‡πÇ<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏ï‡∏±‡∏ß‡∏™‡∏∏‡πà‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏™‡πâ‡∏°‡∏´‡∏ß‡∏≤‡∏ô (Pink Password Generator)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Prompt", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle at top left, #ffe4ef 0, #ffd6f0 40%, #f9c5ff 70%, #fce7f3 100%);
      color: #312e2e;
    }

    .page-wrapper {
      width: 100%;
      max-width: 1100px;
      padding: 32px 16px 40px;
    }

    .app-card {
      background: radial-gradient(circle at top left, #ffffff 0, #ffe7f4 55%);
      border-radius: 26px;
      padding: 28px 26px 24px;
      box-shadow: 0 30px 80px rgba(219, 39, 119, 0.25);
      border: 1px solid rgba(244, 114, 182, 0.45);
    }

    .header {
      text-align: center;
      margin-bottom: 26px;
    }

    .header-icon {
      width: 80px;
      height: 80px;
      border-radius: 999px;
      margin: 0 auto 10px;
      background: radial-gradient(circle at 30% 20%, #fb7185, #ec4899);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      color: #fff7fb;
      box-shadow: 0 24px 60px rgba(236, 72, 153, 0.7);
    }

    .header-title {
      font-size: 30px;
      font-weight: 800;
      color: #1f2933;
    }

    .header-subtitle {
      margin-top: 4px;
      font-size: 13px;
      color: #6b7280;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1.2fr);
      gap: 26px;
      margin-top: 20px;
      align-items: center;
    }

    @media (max-width: 900px) {
      .layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    /* Illustration */
    .illustration {
      display: flex;
      justify-content: center;
    }

    .illustration-card {
      width: 100%;
      max-width: 360px;
      aspect-ratio: 4 / 3;
      border-radius: 26px;
      background: radial-gradient(circle at top left, #f9a8d4 0, #f97373 35%, #fb7185 70%, #fbcfe8 100%);
      box-shadow: 0 26px 60px rgba(190, 24, 93, 0.6);
      padding: 20px 18px;
      position: relative;
      overflow: hidden;
      color: #fee2f2;
    }

    .castle {
      position: absolute;
      bottom: 10px;
      left: 18px;
      right: 18px;
      height: 46%;
      border-radius: 26px 26px 18px 18px;
      background: linear-gradient(180deg, #f9fafb, #e5e7eb);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.45);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      color: #ec4899;
    }

    .castle::before {
      content: "";
      position: absolute;
      top: -28px;
      left: 50%;
      width: 110px;
      height: 50px;
      transform: translateX(-50%);
      border-radius: 22px 22px 12px 12px;
      background: linear-gradient(180deg, #f3f4f6, #d1d5db);
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.3);
    }

    .castle::after {
      content: "üîí";
      position: absolute;
      top: -16px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
    }

    .illus-title {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .illus-text {
      font-size: 13px;
      max-width: 260px;
    }

    .sparkle {
      position: absolute;
      font-size: 18px;
      opacity: 0.9;
    }
    .sparkle.s1 { top: 18px; right: 32px; }
    .sparkle.s2 { top: 40px; left: 24px; }
    .sparkle.s3 { bottom: 82px; right: 26px; }

    /* Controls */
    .panel {
      background: #fff7fb;
      border-radius: 22px;
      padding: 18px 18px 16px;
      border: 1px solid rgba(244, 114, 182, 0.5);
      box-shadow: 0 16px 40px rgba(236, 72, 153, 0.08);
    }

    .section-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 10px;
      color: #1f2933;
    }

    .password-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .password-display-wrapper {
      flex: 1 1 220px;
      background: #f9fafb;
      border-radius: 999px;
      padding: 5px 10px;
      border: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .password-input {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      font-size: 14px;
      padding: 4px 4px;
      color: #111827;
    }

    .password-input::placeholder {
      color: #9ca3af;
    }

    .chip {
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 11px;
      border: 1px solid #bbf7d0;
      background: #dcfce7;
      color: #166534;
      white-space: nowrap;
    }

    .icon-btn {
      border-radius: 999px;
      border: none;
      padding: 7px 10px;
      background: #f973bc;
      color: white;
      font-size: 13px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(236, 72, 153, 0.7);
      transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
      white-space: nowrap;
    }

    .icon-btn.secondary {
      background: #fca5a5;
      box-shadow: 0 10px 24px rgba(248, 113, 113, 0.6);
    }

    .icon-btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 16px 30px rgba(236, 72, 153, 0.8);
    }

    .icon-btn.secondary:hover {
      box-shadow: 0 16px 30px rgba(248, 113, 113, 0.8);
    }

    .icon-btn:active {
      transform: translateY(0);
      box-shadow: 0 8px 18px rgba(236, 72, 153, 0.7);
    }

    /* Strength */
    .strength-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }

    .strength-label {
      font-size: 13px;
      color: #4b5563;
    }

    .strength-badge {
      font-size: 12px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
      border: 1px solid #fecaca;
      white-space: nowrap;
    }

    .strength-bar-wrapper {
      flex: 1 1 120px;
      height: 8px;
      border-radius: 999px;
      background: #f3f4f6;
      overflow: hidden;
    }

    .strength-bar-inner {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #fb7185, #ec4899);
      transition: width 0.2s ease;
    }

    /* Length */
    .length-row {
      margin-bottom: 14px;
    }

    .length-label {
      font-size: 13px;
      margin-bottom: 4px;
      display: flex;
      justify-content: space-between;
      color: #4b5563;
    }

    .length-controls {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .length-btn {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      border: 1px solid #fecaca;
      background: #fee2e2;
      color: #b91c1c;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.15s ease, transform 0.1s ease;
    }

    .length-btn:hover {
      background: #fecaca;
      transform: translateY(-1px);
    }

    .length-slider {
      flex: 1;
      -webkit-appearance: none;
      height: 6px;
      border-radius: 999px;
      background: #f3f4f6;
      outline: none;
    }

    .length-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fecaca, #ec4899);
      cursor: pointer;
      box-shadow: 0 0 0 3px #fee2e2;
    }

    .length-slider::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fecaca, #ec4899);
      cursor: pointer;
      box-shadow: 0 0 0 3px #fee2e2;
    }

    /* Options */
    .options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 8px;
      margin-bottom: 12px;
    }

    .checkbox-pill {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 999px;
      background: #fdf2f8;
      border: 1px solid #fbcfe8;
      font-size: 13px;
      color: #4b5563;
      cursor: pointer;
      transition: background 0.15s ease, border-color 0.15s ease, transform 0.1s ease;
    }

    .checkbox-pill:hover {
      background: #fce7f3;
      border-color: #f472b6;
      transform: translateY(-1px);
    }

    .checkbox-pill input {
      accent-color: #ec4899;
    }

    .tag-small {
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 999px;
      background: #fee2ff;
      color: #a21caf;
    }

    /* Phrase */
    .phrase-row {
      margin-bottom: 10px;
    }

    .phrase-input {
      width: 100%;
      border-radius: 14px;
      border: 1px solid #fbcfe8;
      padding: 7px 9px;
      font-size: 13px;
      outline: none;
      background: #fff;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;
    }

    .phrase-input:focus {
      border-color: #ec4899;
      box-shadow: 0 0 0 1px rgba(236, 72, 153, 0.5);
    }

    .phrase-extra {
      display: flex;
      gap: 10px;
      margin-top: 6px;
      align-items: center;
      flex-wrap: wrap;
      font-size: 11px;
      color: #6b7280;
    }

    .phrase-extra select {
      border-radius: 999px;
      border: 1px solid #fbcfe8;
      padding: 5px 9px;
      font-size: 12px;
      background: #fff;
      outline: none;
    }

    .helper-text {
      font-size: 11px;
      color: #9ca3af;
      margin-top: 4px;
    }

    .error {
      font-size: 12px;
      color: #b91c1c;
      min-height: 16px;
      margin-top: 4px;
    }

  </style>
</head>
<body>
  <div class="page-wrapper">
    <div class="app-card">
      <header class="header">
        <div class="header-icon">üè∞</div>
        <h1 class="header-title">‡∏ï‡∏±‡∏ß‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏° </h1>
        <p class="header-subtitle">
          ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡πÄ‡∏≠‡∏á
        </p>
      </header>

      <div class="layout">
        <!-- Illustration -->
        <div class="illustration">
          <div class="illustration-card">
            <div class="sparkle s1">‚ú®</div>
            <div class="sparkle s2">üí´</div>
            <div class="sparkle s3">‚ú®</div>
            <div class="illus-title">‡∏õ‡πâ‡∏≠‡∏°‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
            <p class="illus-text">
              ‡∏¢‡∏¥‡πà‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏¢‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà
              ‡∏¢‡∏¥‡πà‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
            </p>
            <div class="castle">‚ù§Ô∏èüîê</div>
          </div>
        </div>

        <!-- Control Panel -->
        <section class="panel">
          <!-- Generated password -->
          <h2 class="section-title">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á</h2>
          <div class="password-row">
            <div class="password-display-wrapper">
              <input
                id="password-output"
                class="password-input"
                type="text"
                readonly
                placeholder="‡∏Å‡∏î‡∏™‡∏∏‡πà‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á"
              />
              <div id="strength-chip" class="chip">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</div>
            </div>
            <button class="icon-btn secondary" id="copy-btn">
              üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
            </button>
            <button class="icon-btn" id="generate-btn">
              üîÅ ‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
            </button>
          </div>

          <!-- Strength -->
          <div class="strength-row">
            <div class="strength-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô:</div>
            <div class="strength-badge" id="strength-label">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
            <div class="strength-bar-wrapper">
              <div class="strength-bar-inner" id="strength-bar"></div>
            </div>
          </div>

          <!-- Length -->
          <div class="length-row">
            <div class="length-label">
              <span>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</span>
              <span><span id="length-value">16</span> ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</span>
            </div>
            <div class="length-controls">
              <button class="length-btn" id="length-minus">‚àí</button>
              <input
                id="length-range"
                class="length-slider"
                type="range"
                min="6"
                max="64"
                value="16"
              />
              <button class="length-btn" id="length-plus">+</button>
            </div>
            <div class="helper-text">
              ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏¢‡∏≤‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 12 ‡∏ï‡∏±‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ö‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏≠‡∏∑‡πà‡∏ô
            </div>
          </div>

          <!-- Options -->
          <h2 class="section-title" style="margin-top:6px;">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</h2>
          <div class="options-grid">
            <label class="checkbox-pill">
              <input type="checkbox" id="opt-upper" checked />
              <span>ABC (‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏ç‡πà)</span>
            </label>
            <label class="checkbox-pill">
              <input type="checkbox" id="opt-lower" checked />
              <span>abc (‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å)</span>
            </label>
            <label class="checkbox-pill">
              <input type="checkbox" id="opt-number" checked />
              <span>123 (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)</span>
            </label>
            <label class="checkbox-pill">
              <input type="checkbox" id="opt-symbol" checked />
              <span>#@$% (‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå)</span>
            </label>
          </div>

          <!-- Phrase -->
          <div class="phrase-row">
            <label for="phrase-input">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ/‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏´‡∏±‡∏™ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô, ‡∏Ñ‡∏≥‡∏à‡∏≥‡∏á‡πà‡∏≤‡∏¢ ‡πÜ)</label>
            <input id="phrase-input" class="phrase-input" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô Bst2024!, ‡∏Ñ‡∏≥‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢, ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏•‡∏µ‡∏ï‡πà‡∏≤‡∏á ‡πÜ" />
            <div class="phrase-extra">
              <div>
                ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏™‡πà:
                <select id="phrase-position">
                  <option value="none">‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏£‡∏´‡∏±‡∏™</option>
                  <option value="start">‡πÑ‡∏ß‡πâ‡∏ï‡πâ‡∏ô‡∏£‡∏´‡∏±‡∏™</option>
                  <option value="end">‡πÑ‡∏ß‡πâ‡∏ó‡πâ‡∏≤‡∏¢‡∏£‡∏´‡∏±‡∏™</option>
                </select>
              </div>
              <span class="tag-small">‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏à‡∏∞‡∏ô‡∏±‡∏ö‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏£‡∏´‡∏±‡∏™</span>
            </div>
            <div class="helper-text">
              * ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏≤‡∏á‡πà‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á + ‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ï‡∏£‡∏á ‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
            </div>
          </div>

          <div id="error-msg" class="error"></div>
        </section>
      </div>
    </div>
  </div>

  <script>
    const passwordOutput = document.getElementById("password-output");
    const strengthChip = document.getElementById("strength-chip");
    const strengthLabel = document.getElementById("strength-label");
    const strengthBar = document.getElementById("strength-bar");
    const generateBtn = document.getElementById("generate-btn");
    const copyBtn = document.getElementById("copy-btn");

    const lengthRange = document.getElementById("length-range");
    const lengthValue = document.getElementById("length-value");
    const minusBtn = document.getElementById("length-minus");
    const plusBtn = document.getElementById("length-plus");

    const optUpper = document.getElementById("opt-upper");
    const optLower = document.getElementById("opt-lower");
    const optNumber = document.getElementById("opt-number");
    const optSymbol = document.getElementById("opt-symbol");

    const phraseInput = document.getElementById("phrase-input");
    const phrasePosition = document.getElementById("phrase-position");
    const errorMsg = document.getElementById("error-msg");

    const UPPER = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const LOWER = "abcdefghijklmnopqrstuvwxyz";
    const NUMBERS = "0123456789";
    const SYMBOLS = "!@#$%^&*()-_=+[]{};:,.<>/?~";

    function updateLengthDisplay() {
      lengthValue.textContent = lengthRange.value;
    }

    function adjustLength(delta) {
      let v = parseInt(lengthRange.value, 10) + delta;
      const min = parseInt(lengthRange.min, 10);
      const max = parseInt(lengthRange.max, 10);
      if (v < min) v = min;
      if (v > max) v = max;
      lengthRange.value = v;
      updateLengthDisplay();
    }

    minusBtn.addEventListener("click", () => adjustLength(-1));
    plusBtn.addEventListener("click", () => adjustLength(1));
    lengthRange.addEventListener("input", updateLengthDisplay);
    updateLengthDisplay();

    function buildPool() {
      let pool = "";
      if (optUpper.checked) pool += UPPER;
      if (optLower.checked) pool += LOWER;
      if (optNumber.checked) pool += NUMBERS;
      if (optSymbol.checked) pool += SYMBOLS;
      return pool;
    }

    function generatePassword() {
      errorMsg.textContent = "";
      const length = parseInt(lengthRange.value, 10);
      const pool = buildPool();
      const phrase = phraseInput.value || "";
      const position = phrasePosition.value;

      if (!pool && phrase.length === 0) {
        errorMsg.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡πÅ‡∏ö‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏™‡πà‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£";
        passwordOutput.value = "";
        updateStrength("");
        return;
      }

      if (phrase.length > length) {
        errorMsg.textContent = "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏£‡∏´‡∏±‡∏™‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ";
        passwordOutput.value = "";
        updateStrength("");
        return;
      }

      const remainingLen = length - phrase.length;

      // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ pool ‡πÅ‡∏ï‡πà‡∏°‡∏µ phrase ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏Å‡πá‡πÉ‡∏ä‡πâ phrase ‡πÄ‡∏•‡∏¢
      if (!pool && phrase.length > 0 && remainingLen === 0) {
        passwordOutput.value = phrase;
        updateStrength(phrase);
        return;
      }

      let randomPart = "";
      for (let i = 0; i < remainingLen; i++) {
        const ch = pool[Math.floor(Math.random() * pool.length)];
        randomPart += ch;
      }

      let finalPassword = "";
      if (!phrase) {
        finalPassword = randomPart;
      } else {
        if (position === "start") {
          finalPassword = phrase + randomPart;
        } else if (position === "end") {
          finalPassword = randomPart + phrase;
        } else {
          // ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á
          const insertIndex = Math.floor(Math.random() * (randomPart.length + 1));
          finalPassword =
            randomPart.slice(0, insertIndex) +
            phrase +
            randomPart.slice(insertIndex);
        }
      }

      passwordOutput.value = finalPassword;
      updateStrength(finalPassword);
    }

    function estimateStrength(pwd) {
      if (!pwd || pwd.length === 0) return { score: 0, label: "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•" };

      let score = 0;
      if (pwd.length >= 8) score += 1;
      if (pwd.length >= 12) score += 1;
      if (pwd.length >= 16) score += 1;
      if (/[A-Z]/.test(pwd)) score += 1;
      if (/[a-z]/.test(pwd)) score += 1;
      if (/[0-9]/.test(pwd)) score += 1;
      if (/[^A-Za-z0-9]/.test(pwd)) score += 1;

      let label, chip, percent;
      if (score <= 2) {
        label = "‡∏≠‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏Å ‚Äì ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô";
        chip = "‡∏≠‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏Å";
        percent = 20;
      } else if (score <= 4) {
        label = "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‚Äì ‡∏û‡∏≠‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ ‡∏•‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î";
        chip = "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á";
        percent = 45;
      } else if (score <= 6) {
        label = "‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‚Äì ‡∏î‡∏µ‡∏°‡∏≤‡∏Å ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏≠‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ";
        chip = "‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á";
        percent = 75;
      } else {
        label = "‡πÇ‡∏´‡∏î‡∏°‡∏≤‡∏Å ‚Äì ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£";
        chip = "‡πÇ‡∏´‡∏î‡∏°‡∏≤‡∏Å";
        percent = 100;
      }

      return { score, label, chip, percent };
    }

    function updateStrength(pwd) {
      if (!pwd) {
        strengthChip.textContent = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô";
        strengthLabel.textContent = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•";
        strengthBar.style.width = "0%";
        return;
      }
      const { label, chip, percent } = estimateStrength(pwd);
      strengthChip.textContent = chip;
      strengthLabel.textContent = label;
      strengthBar.style.width = percent + "%";
    }

    generateBtn.addEventListener("click", generatePassword);

    copyBtn.addEventListener("click", async () => {
      const pwd = passwordOutput.value;
      if (!pwd) {
        errorMsg.textContent = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏™‡∏∏‡πà‡∏°‡∏£‡∏´‡∏±‡∏™‡∏Å‡πà‡∏≠‡∏ô";
        return;
      }
      try {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          await navigator.clipboard.writeText(pwd);
        } else {
          const temp = document.createElement("textarea");
          temp.value = pwd;
          document.body.appendChild(temp);
          temp.select();
          document.execCommand("copy");
          document.body.removeChild(temp);
        }
        errorMsg.textContent = "‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏•‡πâ‡∏ß ‚úÖ";
      } catch (e) {
        errorMsg.textContent = "‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á";
      }
    });

    // ‡∏Å‡∏î Enter ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á phrase ‡πÉ‡∏´‡πâ‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
    phraseInput.addEventListener("keyup", (e) => {
      if (e.key === "Enter") generatePassword();
    });

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢
    generatePassword();
  </script>
</body>
</html>
